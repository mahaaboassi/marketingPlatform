"use client"
import { useEffect, useState } from "react"
import { useDispatch, useSelector } from "react-redux"
import Style from "./page.module.css"
import { message } from "../../app/redux/slices/message"

const Overlay = ()=>{
    const [ open, setOpen ] = useState(false)
    const openRedux = useSelector(state => state.message)
    const dispatch = useDispatch()
    useEffect(()=>{setOpen(openRedux)},[openRedux])
    return open.isOpen &&  <div className={`${Style.container}`}>
        <div  className={`${Style.cardMessage} flex flex-col gap-3 p-6 md:p-10 `} >
            <div className="flex justify-center">
                {/* <svg xmlns="http://www.w3.org/2000/svg"  version="1.1" id="Layer_1" x="0px" y="0px" width="221.31px" height="222.876px" viewBox="0 0 121.31 122.876" enableBackground="new 0 0 121.31 122.876"><g><path fill="#211d37" fillRule="evenodd" clipRule="evenodd" d="M90.914,5.296c6.927-7.034,18.188-7.065,25.154-0.068 c6.961,6.995,6.991,18.369,0.068,25.397L85.743,61.452l30.425,30.855c6.866,6.978,6.773,18.28-0.208,25.247 c-6.983,6.964-18.21,6.946-25.074-0.031L60.669,86.881L30.395,117.58c-6.927,7.034-18.188,7.065-25.154,0.068 c-6.961-6.995-6.992-18.369-0.068-25.397l30.393-30.827L5.142,30.568c-6.867-6.978-6.773-18.28,0.208-25.247 c6.983-6.963,18.21-6.946,25.074,0.031l30.217,30.643L90.914,5.296L90.914,5.296z"/></g></svg> */}
                {open.status == "error" && <svg xmlns="http://www.w3.org/2000/svg" width="262" height="262" viewBox="0 0 512 512" fill="none">
                    <g clipPath="url(#clip0_218_758)">
                    <path d="M189.76 8.78019C258.01 -9.50981 327.24 1.61019 383.98 34.3702L384.74 34.8402C441.11 67.6602 485.03 121.86 503.22 189.77C521.51 258.02 510.39 327.24 477.63 383.98L477.16 384.74C444.34 441.11 390.14 485.03 322.23 503.23C263.54 518.96 204.13 512.93 152.56 490.11C132.42 481.2 113.41 469.63 96.2 455.9C54.94 422.98 23.47 377.08 8.77004 322.24C-9.49996 254.02 1.61004 184.81 34.37 128.08C67.13 71.3202 121.53 27.0602 189.76 8.78019ZM131.62 378.45C131.333 378.739 130.992 378.968 130.617 379.124C130.241 379.281 129.839 379.362 129.432 379.363C129.025 379.364 128.622 379.284 128.246 379.13C127.87 378.975 127.528 378.747 127.24 378.46L117.6 368.88C117.048 368.361 116.704 367.658 116.632 366.904C116.56 366.149 116.766 365.394 117.21 364.78C128.05 350.03 140.51 337.62 154.07 327.52C184.27 305.05 219.98 294.04 255.67 294.2C291.34 294.37 327.01 305.69 357.15 327.83C371.01 338.02 383.71 350.52 394.71 365.27C395.68 366.49 395.59 368.27 394.46 369.39L385.2 378.62C384.615 379.202 383.824 379.528 383 379.528C382.176 379.528 381.385 379.202 380.8 378.62C378.77 376.63 376.76 374.71 374.61 372.85C344.39 346.58 299.91 333.05 255.56 332.83C211.38 332.61 167.41 345.6 137.91 372.32C135.7 374.32 133.69 376.34 131.62 378.45ZM341.99 146.56C354.46 164.6 354.46 193.48 341.99 211.53C329.1 230.2 307.35 230.19 294.45 211.53C281.99 193.48 281.99 164.6 294.45 146.56C307.35 127.89 329.1 127.89 341.99 146.56ZM221.27 146.56C233.73 164.6 233.73 193.48 221.27 211.53C208.37 230.19 186.62 230.2 173.73 211.53C161.27 193.48 161.27 164.6 173.73 146.56C186.62 127.89 208.37 127.89 221.27 146.56ZM370.37 57.8702C319.69 28.6102 257.82 18.6902 196.78 35.0402C135.74 51.4002 87.11 90.9202 57.87 141.58C28.6 192.27 18.68 254.16 35.04 315.22C48.74 366.35 78.7 408.77 117.84 438.39C132.798 449.69 149.078 459.123 166.32 466.48C211.75 485.87 263.78 490.75 315.21 476.97C376.01 460.68 424.48 421.42 453.76 371.05L454.13 370.37C483.39 319.7 493.31 257.82 476.96 196.79C460.67 136 421.41 87.5302 371.05 58.2402L370.37 57.8702Z" fill="#211D38"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_218_758">
                    <rect width="512" height="512.01" fill="white"/>
                    </clipPath>
                    </defs>
                    </svg>}
            </div>
            <div className="flex justify-center">{open.msg} </div>
            <div className="flex justify-center">
                <button onClick={()=>dispatch(message({
                        isOpen : false,
                        msg : "",
                        status : ""
                        }))}>Close</button>
            </div>

        </div>
    </div>
}
export default Overlay